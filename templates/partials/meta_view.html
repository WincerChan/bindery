{% set rating = book.rating %}
<div class="meta-panel" id="meta-panel">
  <div class="panel-header inline">
    <h2>元数据</h2>
    <a
      class="btn ghost"
      href="/book/{{ book_id }}/edit"
      hx-get="/book/{{ book_id }}/edit"
      hx-target="#meta-panel"
      hx-swap="innerHTML"
    >编辑</a>
  </div>
  <div class="meta-grid">
    <div><span>书名</span>{{ book.title }}</div>
    <div><span>作者</span>{{ book.author or "未知" }}</div>
    <div><span>语言</span>{{ book.language }}</div>
    <div><span>出版社</span>{{ book.publisher or "—" }}</div>
    <div><span>标签</span>{{ book.tags | join(", ") if book.tags else "—" }}</div>
    <div><span>发表时间</span>{{ book.published or "—" }}</div>
    <div><span>ISBN</span>{{ book.isbn or "—" }}</div>
    <div><span>星级</span>
      <span class="rating">
        {% if rating is not none %}
          {% for _ in range(rating) %}★{% endfor %}
          {% for _ in range(5 - rating) %}☆{% endfor %}
        {% else %}
          未评分
        {% endif %}
      </span>
    </div>
  </div>
  {% if book.description %}
    <div class="meta-description">
      <h3>简介</h3>
      <p>{{ book.description }}</p>
    </div>
  {% endif %}
</div>
